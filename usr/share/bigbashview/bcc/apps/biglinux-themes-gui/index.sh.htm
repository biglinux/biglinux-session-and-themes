#!/bin/bash

#Translation
export TEXTDOMAINDIR="/usr/share/locale"
export TEXTDOMAIN=biglinux-themes

# Don't group windows
xprop -id "$(xprop -root '\t$0' _NET_ACTIVE_WINDOW | cut -f 2)" -f WM_CLASS 8s -set WM_CLASS "$$"


# Import BigControlCenter base modules / Importa os módulos básicos do BigControlCenter
# That's include jquery and materialize / Isso inclui o jquery e o materialize
# http://materializecss.com/
# . /usr/share/bigbashview/bcc/shell/base.sh

theme_actual="$(cat "$HOME/.big_desktop_theme")"


Desempenho_translate=$"Desempenho do desktop"
Browser_translate=$"Aceleração do navegador"
Use_translate=$"Usabilidade"
Tema_translate=$"Tema dos aplicativos"
More_themes_translate=$"Temas"
CLOSE=$"Fechar"
orchis=$"Bordas arredondadas."
fluent=$"Esse tema possui transparências com efeitos que<br>podem tornar o sistema lento em computadores<br>antigos ou ambientes virtualizados."


browser="$(cat "$HOME/.config/browser-optimize")"


if [ "$browser" = "" ]; then
    checked_browser_auto="checked"
fi

if [ "$browser" = "performance" ]; then
    checked_browser_yes="checked"
fi

if [ "$browser" = "optimize" ]; then
    checked_browser_no="checked"
fi



if [ "$theme_actual" = "" ]; then
    biglinux-themes.sh --apply orchis
    checked_arc="checked"
fi


# if [ "$theme_actual" = "arc" ]; then
#     checked_arc="checked"
# fi
# 
# if [ "$theme_actual" = "adapta" ]; then
#     checked_adapta="checked"
# fi
# 
# if [ "$theme_actual" = "dark" ]; then
#     checked_dark="checked"
# fi

desktop_actual="$(cat ~/.kdebiglinux/lastused)"

if [ "$desktop_actual" = "classic" ]; then
    checked_desktop_classic="checked"
fi

if [ "$desktop_actual" = "kunity" ]; then
    checked_desktop_kunity="checked"
fi

if [ "$desktop_actual" = "new" ]; then
    checked_desktop_new="checked"
fi

if [ "$desktop_actual" = "nextg" ]; then
    checked_desktop_nextg="checked"
fi


if [ "$theme_actual" = "breeze" ]; then
    checked_breeze="checked"
fi

if [ "$theme_actual" = "breeze-dark" ]; then
    checked_breeze_dark="checked"
fi

if [ "$theme_actual" = "fluent" ]; then
    checked_fluent="checked"
fi

if [ "$theme_actual" = "fluent-dark" ]; then
    checked_fluent_dark="checked"
fi


if [ "$theme_actual" = "fluent-solid" ]; then
    checked_fluent="checked"
fi

if [ "$theme_actual" = "fluent-dark-solid" ]; then
    checked_fluent_dark="checked"
fi

if [ "$theme_actual" = "orchis" ]; then
    checked_orchis="checked"
fi

if [ "$theme_actual" = "orchis-dark" ]; then
    checked_orchis_dark="checked"
fi

if [ "$theme_actual" = "materia" ]; then
    checked_materia="checked"
fi

if [ "$theme_actual" = "materia-dark" ]; then
    checked_materia_dark="checked"
fi


performance_actual="$(cat "$HOME/.big_performance")"

if [ "$performance_actual" = "" ] || [ "$performance_actual" = "0" ]; then
    checked_normal="checked"
fi

if [ "$performance_actual" = "1" ]; then
    checked_optimized="checked"
fi

if [ "$performance_actual" = "2" ]; then
    checked_performance="checked"
fi

if [ -e "$HOME/.config/lockplasma" ]; then
    checked_lock_desktop="checked"
fi

if [ "$(LANG=C balooctl status 2>&1| grep 'is running')" != "" ]; then
    checked_search="checked"
fi

if [ "$(kreadconfig5  --group "Mouse" --key "XLbInptNaturalScroll" --file "$HOME/.config/kcminputrc")" = "true" ]; then
    checked_scrool_natural="checked"
fi

if [ "$(grep 'FSM' ~/.config/kwinrc)" != "" ]; then
    checked_left_button="checked"
fi


if [ -e "$HOME/.config/browser-brave-disable-ad" ]; then
    checked_braveblock_no="checked"
else
    checked_braveblock_yes="checked"
fi

if [ -e "$HOME/.config/browser-brave-disable-crypto" ]; then
    checked_bravecrypto_no="checked"
else
    checked_bravecrypto_yes="checked"
fi


  
  
cat << EOF

<html>
<head>
  <meta charset="UTF-8">
  <title>Temas, Desktop e Desempenho</title>
  <link rel='stylesheet'><link rel="stylesheet" href="./style.css">
</head>
EOF

# Get body tag with color light or not
/usr/share/bigbashview/bcc/shell/getbgcolor.sh

cat << EOF
<body>
<!-- partial:index.partial.html -->
<div class="dark-light">
  <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
  </svg>
</div>
<div class="login">
  <div class="wrap">
    <div class="user">
      <div id="toggle-wrap">
        <div id="toggle-terms">
          <div id="cross">
            <span></span>
            <span></span>
          </div>
        </div>
      </div>

  <div class="logo">
    <a href="#"><img src="logo-big-trans-branco.png" alt="" class="logo-biglinux"></a>
  </div>


  <div class="user">
    <!-- ACTIONS -->
    <!--<div class="actions">
          <a class="help" href="#desktop-tab-content">Opção 1</a><a class="faq" href="#login-tab-content">Opção 2</a>
        </div>-->
    <div class="form-wrap">
      <!-- <div class="form-wrap tabs-content">
        <h2>Aparência, desempenho e usabilidade</h2>
      </div> -->
      <!-- TABS -->
      <div class="tabs">

      
      


        <input type="radio" id="tab1" name="tab-control" checked>
        <input type="radio" id="tab2" name="tab-control">
        <input type="radio" id="tab3" name="tab-control">  
        <input type="radio" id="tab4" name="tab-control">
        <ul>
          <li title="Features"><label for="tab1" role="button" id="#login-tab-content"><svg  viewBox="0 0 512 512"><path d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg><br><span> Temas</span></label></li>
          
          <li title="Delivery Contents"><label for="tab2" role="button" id="#desktop-tab-content">
          <svg viewBox="0 0 576 512"><path d="M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"/></svg><br><span> Desktop</span></label></li>
          
          <li title="Shipping"><label for="tab3" role="button" id="#desempenho-tab-content">
          <svg viewBox="0 0 640 512"><path d="M544 224l-128-16-48-16h-24L227.158 44h39.509C278.333 44 288 41.375 288 38s-9.667-6-21.333-6H152v12h16v164h-48l-66.667-80H18.667L8 138.667V208h8v16h48v2.666l-64 8v42.667l64 8V288H16v16H8v69.333L18.667 384h34.667L120 304h48v164h-16v12h114.667c11.667 0 21.333-2.625 21.333-6s-9.667-6-21.333-6h-39.509L344 320h24l48-16 128-16c96-21.333 96-26.583 96-32 0-5.417 0-10.667-96-32z"/></svg><br><span> Desempenho</span></label></li>
        </ul>

        <div class="slider"><div class="indicator"></div></div>          






        <!--          <h3 class="login-tab"><a class="log-in active" href="#login-tab-content"><span>Temas<span></a></h3>
            <h3 class="desktop-tab"><a class="sign-up" href="#desktop-tab-content"><span>Desktop</span></a></h3>
            <h3 class="desempenho-tab"><a class="desempenho-up" href="#desempenho-tab-content"><span>Desempenho</span></a></h3> -->
      </div>

      

      <!-- TABS CONTENT -->
      <div class="tabs-content"> 
        <!-- TABS CONTENT LOGIN -->
        <div id="login-tab-content" class="fc-card active">

          <!-- <div class="centretext" style="margin-bottom: 30px;">
            <div id="desc">
              <h3>Escolha o tema dos aplicativos:</h3>
            </div>
          </div> -->
          <div class="centertext">
            <div id="desc">            
              <ul id="menu" class="img-label">
              
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/breeze-theme.run')"><img src="breeze.jpg"> <label>Breeze</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/fluent-theme.run')"><img src="fluent.jpg"> <label>Fluent</label></a>
                </li>                
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/fluent-solid-theme.run')"><img src="fluent-solid.jpg"> <label>Fluent Solid</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/materia-theme.run')"><img src="materia.jpg"> <label>Materia</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/breeze-dark-theme.run')"><img src="breeze-dark.jpg"> <label>Breeze Dark</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/fluent-dark-theme.run')"><img src="fluent-dark.jpg"> <label>Fluent Dark</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/fluent-dark-solid-theme.run')"><img src="fluent-dark-solid.jpg"> <label>Fluent Solid Dark</label></a>
                </li>
                
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/materia-dark-theme.run')"><img src="materia-dark.jpg"> <label>Materia Dark</label></a>
                </li>
              
              </ul>
            </div> 
            <br><br>
          </div>
        </div>




        <!-- TABS CONTENT DESKTOP -->
        <div id="desktop-tab-content" class="fc-card">

          <!-- <div class="centretext" style="margin-bottom: 30px;">
            <div id="desc">
              <h3>Escolha o desktop:</h3>
            </div>
          </div> -->

          <div class="centertext">
            <div id="desc">
              <ul id="menu">
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/desktop_config.run classic')"><img src="desktop-classic.svg"></a>
                </li>
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/desktop_config.run kunity')"><img src="desktop-k-unity.svg"></a>
                </li>              
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/desktop_config.run new')"><img src="desktop-new.svg"></a>
                </li>              
                <li>
                  <a onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/desktop_config.run nextg')"><img src="desktop-next-g.svg"></a>
                </li>
              </ul>
            </div>

            <div id="desc">
              <h4 style="margin: 15px 0 15px 0;">Usabilidade</h4>

              <ul>
                <li style="padding: 2px;" onchange="_run('./kwin_button.run')">
                  
                    <input id="desktop1" name="bb1" type="checkbox" class="switch" style="display: inline-block; float: left;" $checked_left_button>
                    <span for="desktop1">Botões da janela no lado esquerdo<br><small></small></span>
                  
                </li>                    
                <li style="padding-top: 2px;" onchange="_run('./mouse.run')">
                  
                    <input id="desktop2" type="checkbox" class="switch" style="display: inline-block; float: left;" $checked_scrool_natural>
                    <span for="desktop2">Rolagem do mouse invertida<br><small></small></span>
                  
                </li> 
              </ul>
              <ul>
                <li style="padding: 2px;" onchange="_run('./search.run')">
                  
                    <input id="desktop3" type="checkbox" class="switch" style="display: inline-block; float: left;" $checked_search>
                    <span for="desktop3">Pesquisar arquivos<br><small></small></span>
                  
                </li>                    
                <li style="padding-top: 2px;" onchange="_run('./lock-desktop.run')">
                  
                    <input id="desktop4" type="checkbox" class="switch" style="display: inline-block; float: left;" $checked_lock_desktop>
                    <span for="desktop4">Bloquear a área de trabalho<br><small></small></span>
                  
                </li>                    
              </ul>

            </div>          
          </div>
        </div>

        <div id="desempenho-tab-content" class="fc-card">

          <!-- <div class="centretext" style="margin-bottom: 30px;">
            <div id="desc">
              <h3>Escolha o desempenho:</h3>
            </div>
          </div> -->
          
          <div class="biglinux-dashboard">
            <div class="biglinux-left-panel">
              <h4>Desempenho do desktop</h4>
              <div class="biglinux-card" style="height: 75%; position: relative;">


                <input id="s0" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/change_performance.run')" type="checkbox" class="switch" style="top: 11px;" $checked_optimized>
                <span for="s0">Reduzir efeitos visuais<br><small>(Indicado para computadores antigos)</small></span>               

                <br style="clear: left;" />
                <br style="clear: left;" />
                <div class="button-wrapper" style="position: absolute; bottom: 15px; ">
                  <button class="content-button status-button">Configurar Preload</button>

                </div>


              </div>

              <div class="pop-up">
                <div class="pop-up__title">Configurações do Preload
                  <svg class="close" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M15 9l-6 6M9 9l6 6" />
                  </svg>

                </div>
                <br>

EOF





func-preload() {

    if [ -e "/etc/big-preload/enable-$1" ]; then
        preload_checked="checked"
    else
        preload_checked=""    
    fi


cat << EOF
    <li>
    <div class="checkbox-wrapper">
        <input name="$1" id="$1" type="checkbox" class="switch" style="display: inline-block; float: left;" onchange="_run('./change-preload.run $1')" $preload_checked><span for="$1">$2</span>
    </div>
    </li> 
EOF

}


CAT << EOF
                <div class="pop-up__subtitle">O Preload carrega arquivos dos programas na memória, para que iniciem rapidamente. O uso excessivo causa lentidão. Escolha a opção desejada:</a></div>
              <div id="desc">
                <ul id="menu">
EOF

func-preload firefox "Firefox"
func-preload brave "Brave"
func-preload chrome "Google Chrome"
func-preload chromium "Chromium"
func-preload palemoon "Palemoon"
func-preload opera "Opera"
func-preload vivaldi "Vivaldi"
func-preload epiphany "Epiphany"
func-preload libreoffice "LibreOffice"
func-preload kde "Desktop KDE"

cat << EOF
                </ul>
                        
              <div class="content-button-wrapper">
                <button class="content-button status-button2 open close">Fechar</button>
              </div>
            </div>              

          </div>
          <div class="biglinux-left-panel">
            <h4>Aceleração do navegador</h4>
            <div class="biglinux-card" style="height: 75%; position: relative;">
              <input id="r1" type="radio" name="radio" value="1" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/browser-auto.run')" $checked_browser_auto>
              <span for="Automático">Automático</span>
              <br style="clear: left;" />
              <input id="r2" type="radio" name="radio" value="2" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/browser-yes.run')" $checked_browser_yes>
              <span for="Ativar">Ativar</span>
              <br style="clear: left;" />
              <input id="r3" type="radio" name="radio" value="2" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/browser-no.run')" $checked_browser_no>
              <span for="Desativar">Desativar</span>

              <br style="clear: left;" />
              <br style="clear: left;" />
              <div class="button-wrapper" style="position: absolute; bottom: 15px; ">
                <button class="content-button status-button2">Configurações do Brave</button>

              </div>

              <br style="clear: left;" />
            </div>

            <div class="pop-up2">
              <div class="pop-up__title">Configurações do Brave
                <svg class="close" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
                  <circle cx="12" cy="12" r="10" />
                  <path d="M15 9l-6 6M9 9l6 6" />
                </svg>
              </div>
              <div class="pop-up__subtitle">Escolha a opção desejada:</div>




              <div id="desc">
                <ul id="menu">
                  <li><div class="checkbox-wrapper">
                    <input id="braveblock" type="checkbox" class="switch" style="display: inline-block; float: left;" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/braveblock-change.run')" $checked_braveblock_yes>
                    <span for="braveblock">Remover propagandas</span>
                    </div>
                  </li>
                  <li><div class="checkbox-wrapper">
                    <input id="bravecrypto" type="checkbox" class="switch" style="display: inline-block; float: left;" onclick="_run('/usr/share/bigbashview/bcc/apps/biglinux-themes-gui/bravecrypto-change.run')" $checked_bravecrypto_yes>
                    <span for="bravecrypto">Suportar criptomoedas</span>
                    </div>
                  </li>
                </ul>
              </div>



              <div class="content-button-wrapper">
                <button class="content-button status-button2 open close">Fechar</button>
              </div>
            </div>            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





</div>
</div>
</div>
<!-- partial -->
  <script src='/usr/share/bigbashview/bcc/materialize/js/jquery.js'></script><script  src="./script.js"></script>

</body>
</html>
      
EOF



